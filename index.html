<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Complaint Management Portal</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <header>
    <h1>Complaint Management Portal</h1>
    <div id="top-controls"></div>
  </header>

  <main>
    <!-- LOGIN VIEW -->
    <section id="view-login" class="view active">
      <div class="card auth-card">
        <h2>Login</h2>
        <input id="login-email" placeholder="Email" />
        <input id="login-password" placeholder="Password" type="password" />
        <select id="login-role">
          <option value="user">User</option>
          <option value="staff">Staff</option>
          <option value="admin">Admin</option>
        </select>
        <button id="btn-login">Login</button>
        <p>Don't have an account? <a id="link-register" href="#">Register</a></p>
        <div class="hint">Try admin: admin@cmp.com / admin123</div>
        <div id="login-msg" class="msg"></div>
      </div>
    </section>

    <!-- REGISTER VIEW -->
    <section id="view-register" class="view">
      <div class="card auth-card">
        <h2>Register</h2>
        <input id="reg-name" placeholder="Full name" />
        <input id="reg-email" placeholder="Email" />
        <input id="reg-password" placeholder="Password" type="password" />
        <select id="reg-role">
          <option value="user">User</option>
          <option value="staff">Staff</option>
        </select>
        <button id="btn-register">Register</button>
        <p>Already have an account? <a id="link-login" href="#">Login</a></p>
        <div id="reg-msg" class="msg"></div>
      </div>
    </section>

    <!-- USER DASHBOARD -->
    <section id="view-user" class="view">
      <div class="container-grid">
        <aside class="panel">
          <h3>User Menu</h3>
          <button class="nav-btn" data-target="user-new-complaint">New Complaint</button>
          <button class="nav-btn" data-target="user-history">My Complaints</button>
        </aside>

        <div class="panel content">
          <div id="user-new-complaint" class="subview">
            <h2>Submit Complaint</h2>
            <input id="c-title" placeholder="Title" />
            <textarea id="c-desc" placeholder="Description"></textarea>
            <input id="c-category" placeholder="Category (e.g., Road, Water, Electricity)" />
            <input id="c-location" placeholder="Location" />
            <input id="c-date" type="date" />
            <button id="btn-submit-complaint">Submit</button>
            <div id="submit-msg" class="msg"></div>
          </div>

          <div id="user-history" class="subview hidden">
            <h2>My Complaints</h2>
            <input id="user-search" placeholder="Search by title/category/location" />
            <div id="user-complaints-list"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ADMIN DASHBOARD -->
    <section id="view-admin" class="view">
      <div class="container-grid">
        <aside class="panel">
          <h3>Admin Menu</h3>
          <button class="nav-btn" data-target="admin-all-complaints">All Complaints</button>
          <button class="nav-btn" data-target="admin-manage-staff">Manage Staff</button>
          <button class="nav-btn" data-target="admin-analytics">Analytics</button>
        </aside>

        <div class="panel content">
          <div id="admin-all-complaints" class="subview">
            <h2>All Complaints</h2>
            <div class="filters">
              <select id="filter-status">
                <option value="">All Statuses</option>
                <option value="Pending">Pending</option>
                <option value="In Progress">In Progress</option>
                <option value="Resolved">Resolved</option>
              </select>
              <input id="filter-category" placeholder="Category" />
              <input id="filter-from" type="date" />
              <input id="filter-to" type="date" />
              <button id="btn-filter">Filter</button>
              <button id="btn-clear-filter">Clear</button>
            </div>
            <div id="admin-complaints-list"></div>
          </div>

          <div id="admin-manage-staff" class="subview hidden">
            <h2>Manage Staff</h2>
            <input id="staff-name" placeholder="Staff Full Name" />
            <input id="staff-email" placeholder="Staff Email" />
            <input id="staff-password" placeholder="Password" type="password" />
            <button id="btn-add-staff">Add Staff</button>
            <div id="staff-list"></div>
          </div>

          <div id="admin-analytics" class="subview hidden">
            <h2>Analytics</h2>
            <div class="stats">
              <div class="stat-card"><strong id="stat-total">0</strong><span>Total Complaints</span></div>
              <div class="stat-card"><strong id="stat-pending">0</strong><span>Pending</span></div>
              <div class="stat-card"><strong id="stat-inprogress">0</strong><span>In Progress</span></div>
              <div class="stat-card"><strong id="stat-resolved">0</strong><span>Resolved</span></div>
            </div>
            <h3>Complaints by Category</h3>
            <div id="category-breakdown"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- STAFF DASHBOARD -->
    <section id="view-staff" class="view">
      <div class="container-grid">
        <aside class="panel">
          <h3>Staff Menu</h3>
          <button class="nav-btn" data-target="staff-assigned">Assigned Complaints</button>
        </aside>

        <div class="panel content">
          <div id="staff-assigned" class="subview">
            <h2>Assigned Complaints</h2>
            <div id="staff-complaints-list"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- COMMON MODAL / DETAILS -->
    <div id="modal" class="modal hidden">
      <div class="modal-card">
        <button id="modal-close" class="close">✕</button>
        <div id="modal-body"></div>
      </div>
    </div>
  </main>
  <footer>
  <small>Built with HTML, CSS & JavaScript · Demo using localStorage</small>
  <div class="social-links">
    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="Github"><i class="fab fa-github"></i></a>
  </div>
</footer>

  <script src="script.js"></script>
</body>
</html>